(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[250],{8853:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/invoice",function(){return i(5626)}])},5626:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return g}});var t=i(4246),s=i(8973),r=i(5705),c=i(3049),d=i(8238),a=i(2222),o=i(4447),h=i(4614),l=i(8196),x=i(8666),u=i(188),j=i(7378),Z=i(6233),m=i(9790),p=i(8784),f=i(1056);let _=e=>{let{tenants:n,defaultChecks:i}=e,[_,g]=(0,j.useState)(i),k=e=>{g(n=>({...n,[e]:Boolean(!n[e])}))},v=e=>Boolean(_[e]),w=Object.values(_),b=w.every(e=>e),C=w.some(e=>e),E=()=>{b||C?g(e=>(0,p.mapValues)(e,()=>!1)):g(e=>(0,p.mapValues)(e,()=>!0))},N=()=>{f.L.showPrintWindow.mutate({tenantIds:[]})};return(0,t.jsx)(u.Z,{title:"レシート発行",prev:"/",children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(r.Z,{children:(0,t.jsxs)(c.Z,{children:[(0,t.jsx)(d.Z,{children:(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(o.Z,{padding:"checkbox",children:(0,t.jsx)(h.Z,{checked:b,indeterminate:!b&&C,onChange:E})}),(0,t.jsx)(o.Z,{children:"アパート"}),(0,t.jsx)(o.Z,{children:"部屋"}),(0,t.jsx)(o.Z,{children:"契約者"}),(0,t.jsx)(o.Z,{align:"right",children:"操作"})]})}),(0,t.jsx)(l.Z,{children:n.map(e=>(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(o.Z,{padding:"checkbox",children:(0,t.jsx)(h.Z,{checked:v(e.id),onChange:()=>k(e.id)})}),(0,t.jsx)(o.Z,{children:e.room.apartment.name}),(0,t.jsx)(o.Z,{children:e.room.name}),(0,t.jsx)(o.Z,{children:e.name}),(0,t.jsx)(o.Z,{align:"right"})]},e.id))})]})}),(0,t.jsx)(Z.Z,{position:"fixed",bottom:"16px",right:"16px",children:(0,t.jsx)(x.Z,{variant:"contained",endIcon:(0,t.jsx)(m.Z,{}),onClick:N,children:"印刷"})})]})})};function g(){let e=f.W.getOccupyingTenants.useQuery({year:2022,month:12}),n=e.data?Object.fromEntries(e.data.map(e=>[e.id,!0])):void 0;return e.data&&n?(0,t.jsx)(_,{tenants:e.data,defaultChecks:n}):void 0}}},function(e){e.O(0,[33,849,308,998,774,888,179],function(){return e(e.s=8853)}),_N_E=e.O()}]);