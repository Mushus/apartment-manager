(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{2471:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room/detail/[roomId]",function(){return t(745)}])},7743:function(e,n,t){"use strict";var r=t(4246),i=t(8666),l=t(9894),c=t.n(l);let s=e=>{let{children:n,...t}=e;return(0,r.jsx)(i.Z,{LinkComponent:c(),variant:"contained",...t,children:n})};n.Z=s},8992:function(e,n,t){"use strict";var r=t(4246),i=t(309),l=t(6538);let c=e=>{let{children:n,mb:t}=e;return(0,r.jsx)(i.Z,{style:{overflow:"hidden"},children:(0,r.jsx)(l.Z,{my:"32px",mb:t,children:n})})};n.Z=c},2910:function(e,n,t){"use strict";var r=t(4246),i=t(6538);let l=e=>{let{label:n,children:t}=e;return(0,r.jsxs)(i.Z,{mb:"16px",children:[(0,r.jsx)(i.Z,{mb:"4px",children:n}),(0,r.jsx)(i.Z,{children:t})]})};n.Z=l},188:function(e,n,t){"use strict";var r=t(4246);t(7378);var i=t(9894),l=t.n(i),c=t(8038),s=t.n(c),o=t(7545),a=t(2384),u=t(2133),d=t(2750),h=t(8666),x=t(1434),j=t(6538);let Z=e=>{let{children:n,title:t,prev:i}=e,c="物件管理システム",Z=void 0===t?c:"".concat(t," - ").concat(c);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:Z}),(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.jsx)(o.Z,{position:"sticky",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(u.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},LinkComponent:l(),href:null!=i?i:"",disabled:void 0===i,children:(0,r.jsx)(x.Z,{})}),(0,r.jsx)(d.Z,{variant:"h6",component:"h1",flexGrow:1,children:null!=t?t:c}),(0,r.jsx)(j.Z,{display:"flex",flexGrow:0,children:[{title:"トップ",href:"/"},{title:"物件一覧",href:"/apartment"},{title:"入居状況",href:"/room"},{title:"レシート発行",href:"/invoice"}].map(e=>(0,r.jsx)(h.Z,{sx:{my:2,color:"white",display:"block"},LinkComponent:l(),href:e.href,children:e.title},e.href))})]})}),n]})};n.Z=Z},2307:function(e,n,t){"use strict";t.d(n,{G:function(){return d}});var r=t(4246),i=t(3437),l=t(1602),c=t(2588),s=t(2162),o=t(5996),a=t(8666),u=t(7378);let d=()=>{let e=(0,u.useRef)(),[n,t]=(0,u.useState)(null),d=(0,u.useCallback)(()=>{e.current&&(e.current(!0),e.current=void 0,t(null))},[t]),h=(0,u.useCallback)(()=>{e.current&&(e.current(!1),e.current=void 0,t(null))},[t]),x=(0,u.useCallback)(n=>e.current?Promise.resolve(!1):(t(n),new Promise(n=>{e.current=n})),[t]);return[x,(0,r.jsxs)(i.Z,{open:null!==n,onClose:h,children:[(0,r.jsx)(l.Z,{children:(null==n?void 0:n.title)||"確認"}),(0,r.jsx)(c.Z,{children:(0,r.jsx)(s.Z,{children:null==n?void 0:n.text})}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(a.Z,{onClick:h,children:(null==n?void 0:n.cancel)||"キャンセル"}),(0,r.jsx)(a.Z,{onClick:d,autoFocus:!0,children:(null==n?void 0:n.ok)||"OK"})]})]})]}},1108:function(e,n,t){"use strict";var r=t(4246),i=t(2750),l=t(6233);let c=e=>{let{title:n,children:t}=e;return(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(i.Z,{variant:"h6",component:"h2",children:n}),(0,r.jsx)(l.Z,{mb:"32px",children:t})]})};n.Z=c},7308:function(e,n,t){"use strict";var r=t(4246),i=t(5670);let l=e=>{let{onChange:n,...t}=e,l=e=>{n&&n(e.target.value)};return(0,r.jsx)(i.Z,{fullWidth:!0,onChange:l,...t})};n.Z=l},5817:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(4246),i=t(6233);function l(){return(0,r.jsx)(i.Z,{})}},4366:function(e,n,t){"use strict";t.d(n,{M:function(){return l}});var r=t(4246),i=t(6677);let l=e=>()=>{let n;let t=e.layout,l=e.page;if(e.query){let{query:c,isReady:s}=(0,i.useRouter)();if(!s)return(0,r.jsx)(t,{query:void 0});n=e.query.parse(c)}return(0,r.jsx)(t,{query:n,children:(0,r.jsx)(l,{query:n})})}},745:function(e,n,t){"use strict";t.r(n);var r=t(4246),i=t(2750),l=t(5705),c=t(3049),s=t(8238),o=t(2222),a=t(4447),u=t(8196),d=t(8666),h=t(188),x=t(4200),j=t(6538),Z=t(7743),f=t(473),m=t(7308),v=t(2910),p=t(7693),w=t.n(p),y=t(8992),b=t(1108),k=t(5817),_=t(4366),C=t(2307),g=t(2010),R=t.n(g);let q=e=>null===e?"---":w()(e).format("YYYY/MM/DD");function N(e){let{apartment:n,room:t,tenants:h}=e,x=f.W.useContext(),[p,w]=(0,C.G)(),k=async e=>{await p({text:"部屋「".concat(e.name,"」を削除しますか？")})&&(await f.L.tenant.delete.mutate({tenantId:e.id}),x.invalidate())};return(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(j.Z,{my:"32px",children:(0,r.jsxs)(i.Z,{variant:"h6",children:[n.name," / ",t.name]})}),(0,r.jsx)(v.Z,{label:"入居状況",children:(0,r.jsx)(m.Z,{value:"empty"===t.occupancyStatus?"空室":"入居中",disabled:!0})}),(0,r.jsx)(b.Z,{title:"入居者",children:(0,r.jsx)(l.Z,{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(s.Z,{children:(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(a.Z,{children:"氏名"}),(0,r.jsx)(a.Z,{children:"入居日"}),(0,r.jsx)(a.Z,{children:"退去日"}),(0,r.jsx)(a.Z,{children:"操作"})]})}),(0,r.jsx)(u.Z,{children:h.map(e=>(0,r.jsxs)(o.Z,{className:e.isResidence?R().activeRow:void 0,children:[(0,r.jsx)(a.Z,{children:e.name}),(0,r.jsx)(a.Z,{children:q(e.since)}),(0,r.jsx)(a.Z,{children:q(e.until)}),(0,r.jsxs)(a.Z,{align:"right",children:[(0,r.jsx)(d.Z,{variant:"contained",color:"warning",onClick:()=>k(e),children:"削除"}),(0,r.jsx)(Z.Z,{href:"/room/detail/".concat(t.id,"/edit/").concat(e.id),children:"編集"})]})]},e.id))})]})})}),(0,r.jsx)(Z.Z,{href:"/room/detail/".concat(t.id,"/new"),children:"入居者追加"}),w]})}n.default=(0,_.M)({query:x.ZP.object({roomId:x.ZP.string()}),layout:e=>{let{children:n}=e;return(0,r.jsx)(h.Z,{title:"部屋の入居状況",prev:"/room",children:n})},page:e=>{let{query:n}=e,{data:t,isLoading:i}=f.W.room.get.useQuery(n);return t&&!i?(0,r.jsx)(N,{room:t,apartment:t.apartment,tenants:t.tenants}):(0,r.jsx)(k.Z,{})}})},2010:function(e){e.exports={activeRow:"Table_activeRow__sRxc7"}}},function(e){e.O(0,[933,55,132,200,472,762,774,888,179],function(){return e(e.s=2471)}),_N_E=e.O()}]);