(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[90],{7917:function(e,n,t){"use strict";var r=t(3203);n.Z=void 0;var l=r(t(9124)),a=t(4246),i=(0,l.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");n.Z=i},6540:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room/detail/[roomId]/edit/[tenantId]",function(){return t(4967)}])},8992:function(e,n,t){"use strict";var r=t(4246),l=t(309),a=t(6538);let i=e=>{let{children:n,mb:t}=e;return(0,r.jsx)(l.Z,{style:{overflow:"hidden"},children:(0,r.jsx)(a.Z,{my:"32px",mb:t,children:n})})};n.Z=i},6186:function(e,n,t){"use strict";var r=t(4246),l=t(6538);let a=e=>{let{children:n}=e;return(0,r.jsx)(l.Z,{position:"fixed",bottom:"16px",right:"16px",children:n})};n.Z=a},2910:function(e,n,t){"use strict";var r=t(4246),l=t(6538);let a=e=>{let{label:n,children:t}=e;return(0,r.jsxs)(l.Z,{mb:"16px",children:[(0,r.jsx)(l.Z,{mb:"4px",children:n}),(0,r.jsx)(l.Z,{children:t})]})};n.Z=a},188:function(e,n,t){"use strict";var r=t(4246);t(7378);var l=t(9894),a=t.n(l),i=t(8038),u=t.n(i),o=t(7545),s=t(2384),c=t(2133),d=t(2750),h=t(8666),m=t(1434),x=t(6538);let f=e=>{let{children:n,title:t,prev:l}=e,i="物件管理システム",f=void 0===t?i:"".concat(t," - ").concat(i);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(u(),{children:[(0,r.jsx)("title",{children:f}),(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.jsx)(o.Z,{position:"sticky",children:(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(c.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},LinkComponent:a(),href:null!=l?l:"",disabled:void 0===l,children:(0,r.jsx)(m.Z,{})}),(0,r.jsx)(d.Z,{variant:"h6",component:"h1",flexGrow:1,children:null!=t?t:i}),(0,r.jsx)(x.Z,{display:"flex",flexGrow:0,children:[{title:"トップ",href:"/"},{title:"物件一覧",href:"/apartment"},{title:"入居状況",href:"/room"},{title:"レシート発行",href:"/invoice"}].map(e=>(0,r.jsx)(h.Z,{sx:{my:2,color:"white",display:"block"},LinkComponent:a(),href:e.href,children:e.title},e.href))})]})}),n]})};n.Z=f},3397:function(e,n,t){"use strict";var r=t(4246),l=t(5670);let a=e=>{let{onChange:n,...t}=e,a=e=>{n&&n(e.target.value)};return(0,r.jsx)(l.Z,{fullWidth:!0,inputMode:"decimal",onChange:a,...t})};n.Z=a},7308:function(e,n,t){"use strict";var r=t(4246),l=t(5670);let a=e=>{let{onChange:n,...t}=e,a=e=>{n&&n(e.target.value)};return(0,r.jsx)(l.Z,{fullWidth:!0,onChange:a,...t})};n.Z=a},5817:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(4246),l=t(6233);function a(){return(0,r.jsx)(l.Z,{})}},4366:function(e,n,t){"use strict";t.d(n,{M:function(){return a}});var r=t(4246),l=t(6677);let a=e=>()=>{let n;let t=e.layout,a=e.page;if(e.query){let{query:i,isReady:u}=(0,l.useRouter)();if(!u)return(0,r.jsx)(t,{query:void 0});n=e.query.parse(i)}return(0,r.jsx)(t,{query:n,children:(0,r.jsx)(a,{query:n})})}},8309:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var r=t(4246),l=t(2750),a=t(8666),i=t(6538),u=t(7378),o=t(6186),s=t(5670);let c=e=>{let{value:n,onChange:t}=e,[l,a]=(0,u.useState)("");(0,u.useEffect)(()=>{n!==l&&a(null!=n?n:"")},[n]);let i=(0,u.useCallback)(e=>{let n=e.target.value;a(n),t(""===n?null:n)},[a]);return(0,r.jsx)(s.Z,{fullWidth:!0,type:"date",value:l,onChange:i})};var d=t(7308),h=t(2910),m=t(7917),x=t(8992),f=t(8103),v=t(3397),j=t(2668),Z=t(7693),g=t.n(Z);let p=e=>{let{apartment:n,room:t,tenant:s,onSave:Z}=e,p=(0,u.useMemo)(()=>{var e,r,l,a,i,u,o,c,d,h;if(s)return{...s,since:(0,j.zf)(s.since),until:(0,j.zf)(s.until),rent:(0,j.di)(s.rent),waterCharge:(0,j.di)(s.waterCharge),parkingFee:(0,j.di)(s.parkingFee),commonAreaCharge:(0,j.di)(s.commonAreaCharge)};let m=g()();return{id:null,name:"",since:(0,j.zf)(new Date(m.year(),m.month(),m.date())),until:(0,j.zf)(new Date(2100,0,1)),rent:(0,j.di)(null!==(r=null!==(e=t.rent)&&void 0!==e?e:n.rent)&&void 0!==r?r:null),waterCharge:(0,j.di)(null!==(a=null!==(l=t.waterCharge)&&void 0!==l?l:n.waterCharge)&&void 0!==a?a:null),parkingFee:(0,j.di)(null!==(u=null!==(i=t.parkingFee)&&void 0!==i?i:n.parkingFee)&&void 0!==u?u:null),commonAreaCharge:(0,j.di)(null!==(c=null!==(o=t.commonAreaCharge)&&void 0!==o?o:n.commonAreaCharge)&&void 0!==c?c:null),admin:null!==(h=null!==(d=t.admin)&&void 0!==d?d:n.admin)&&void 0!==h?h:""}},[s,t,n]),[C,b]=(0,u.useState)(p),w=(0,f.R)(b,"name"),k=(0,f.R)(b,"since"),y=(0,f.R)(b,"until"),z=(0,f.R)(b,"rent"),_=(0,f.R)(b,"waterCharge"),F=(0,f.R)(b,"parkingFee"),R=(0,f.R)(b,"commonAreaCharge"),A=(0,f.R)(b,"admin"),E=(0,f.q)(()=>Z({...C,since:(0,j.OE)(C.since),until:(0,j.OE)(C.until),rent:(0,j.zb)(C.rent),waterCharge:(0,j.zb)(C.waterCharge),parkingFee:(0,j.zb)(C.parkingFee),commonAreaCharge:(0,j.zb)(C.commonAreaCharge)}),[C]);return(0,r.jsx)(x.Z,{mb:"68px",children:(0,r.jsxs)("form",{onSubmit:E,children:[(0,r.jsx)(i.Z,{my:"32px",children:(0,r.jsxs)(l.Z,{variant:"h6",children:[n.name," / ",t.name]})}),(0,r.jsx)(h.Z,{label:"入居者名",children:(0,r.jsx)(d.Z,{value:C.name,onChange:w})}),(0,r.jsx)(h.Z,{label:"入居日",children:(0,r.jsx)(c,{value:C.since,onChange:k})}),(0,r.jsx)(h.Z,{label:"退去日",children:(0,r.jsx)(c,{value:C.until,onChange:y})}),(0,r.jsx)(h.Z,{label:"家賃(円)",children:(0,r.jsx)(v.Z,{value:C.rent,onChange:z})}),(0,r.jsx)(h.Z,{label:"水道料金(円)",children:(0,r.jsx)(v.Z,{value:C.waterCharge,onChange:_})}),(0,r.jsx)(h.Z,{label:"駐車場料金(円)",children:(0,r.jsx)(v.Z,{value:C.parkingFee,onChange:F})}),(0,r.jsx)(h.Z,{label:"共益費(円)",children:(0,r.jsx)(v.Z,{value:C.commonAreaCharge,onChange:R})}),(0,r.jsx)(h.Z,{label:"管理者",children:(0,r.jsx)(v.Z,{value:C.admin,onChange:A})}),(0,r.jsx)(o.Z,{children:(0,r.jsx)(a.Z,{variant:"contained",type:"submit",endIcon:(0,r.jsx)(m.Z,{}),children:"保存"})})]})})};var C=p},8103:function(e,n,t){"use strict";t.d(n,{R:function(){return a},q:function(){return l}});var r=t(7378);let l=(e,n)=>(0,r.useCallback)(n=>{n.preventDefault(),e()},n),a=(e,n)=>(0,r.useCallback)(t=>e(e=>({...e,[n]:t})),[e])},4967:function(e,n,t){"use strict";t.r(n);var r=t(4246),l=t(188),a=t(4200),i=t(473),u=t(6677),o=t(8309),s=t(4366),c=t(5817);n.default=(0,s.M)({query:a.ZP.object({roomId:a.ZP.string(),tenantId:a.ZP.string()}),layout:e=>{let{query:n,children:t}=e;return(0,r.jsx)(l.Z,{title:"部屋の入居者変種",prev:n?"/room/detail/".concat(n.roomId):void 0,children:t})},page:e=>{let{query:n}=e,t=(0,u.useRouter)(),{data:l,isLoading:a}=i.W.tenant.get.useQuery(n),s=async e=>{let{roomId:r,tenantId:l}=n;await i.L.tenant.update.mutate({...e,id:l}),t.push("/room/detail/".concat(r))};return l&&!a?(0,r.jsx)(o.Z,{apartment:l.room.apartment,room:l.room,tenant:l,onSave:s}):(0,r.jsx)(c.Z,{})}})},2668:function(e,n,t){"use strict";t.d(n,{OE:function(){return o},di:function(){return a},zb:function(){return i},zf:function(){return u}});var r=t(7693),l=t.n(r);let a=e=>e||0===e?String(e):"",i=e=>{let n=Number.parseFloat(e);return Number.isInteger(n)?n:null},u=e=>null===e?null:l()(e).format("YYYY-MM-DD"),o=e=>null===e?null:l()(e).toDate()}},function(e){e.O(0,[933,55,132,200,774,888,179],function(){return e(e.s=6540)}),_N_E=e.O()}]);