(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{3058:function(e,t,n){"use strict";var l=n(8546);let r=(0,l.Z)();t.Z=r},1298:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room/detail/[id]/new",function(){return n(9205)}])},6186:function(e,t,n){"use strict";var l=n(4246),r=n(6233);let i=e=>{let{children:t}=e;return(0,l.jsx)(r.Z,{position:"fixed",bottom:"16px",right:"16px",children:t})};t.Z=i},2910:function(e,t,n){"use strict";var l=n(4246),r=n(6233);let i=e=>{let{label:t,children:n}=e;return(0,l.jsxs)(r.Z,{mb:"16px",children:[(0,l.jsx)(r.Z,{mb:"4px",children:t}),(0,l.jsx)(r.Z,{children:n})]})};t.Z=i},188:function(e,t,n){"use strict";var l=n(4246);n(7378);var r=n(9894),i=n.n(r),a=n(8038),s=n.n(a),u=n(7545),c=n(2384),o=n(2133),d=n(2750),h=n(8666),x=n(2709),v=n(1434),j=n(6233);let Z=(0,x.ZP)(j.Z)(e=>{let{theme:t}=e;return t.mixins.toolbar}),f=e=>{let{children:t,title:n,prev:r}=e,a="物件管理システム",x=void 0===n?a:"".concat(n," - ").concat(a);return(0,l.jsxs)("div",{children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("title",{children:x}),(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,l.jsxs)("header",{children:[(0,l.jsx)(u.Z,{position:"fixed",children:(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(o.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},href:null!=r?r:"",disabled:void 0===r,children:(0,l.jsx)(v.Z,{})}),(0,l.jsx)(d.Z,{variant:"h6",component:"h1",flexGrow:1,children:null!=n?n:a}),(0,l.jsx)(j.Z,{display:"flex",flexGrow:0,children:[{title:"トップ",href:"/"},{title:"物件一覧",href:"/apartment"},{title:"入居状況",href:"/room"},{title:"レシート発行",href:"/invoice"}].map(e=>(0,l.jsx)(h.Z,{sx:{my:2,color:"white",display:"block"},LinkComponent:i(),href:e.href,children:e.title},e.href))})]})}),(0,l.jsx)(Z,{})]}),t]})};t.Z=f},2307:function(e,t,n){"use strict";n.d(t,{G:function(){return d}});var l=n(4246),r=n(3437),i=n(1602),a=n(2588),s=n(2162),u=n(5996),c=n(8666),o=n(7378);let d=e=>{let{title:t,text:n,cancel:d,ok:h}=e,x=(0,o.useRef)(),[v,j]=(0,o.useState)(!1);(0,o.useRef)(null),(0,o.useCallback)(()=>{x.current&&(x.current(!0),x.current=void 0,j(!1))},[j]);let Z=(0,o.useCallback)(()=>{x.current&&(x.current(!1),x.current=void 0,j(!1))},[j]),f=(0,o.useCallback)(()=>x.current?Promise.resolve(!1):(j(!0),new Promise(e=>{x.current=e})),[j]);return[f,(0,l.jsxs)(r.Z,{open:v,onClose:Z,children:[(0,l.jsx)(i.Z,{children:t||"確認"}),(0,l.jsx)(a.Z,{children:(0,l.jsx)(s.Z,{children:n})}),(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(c.Z,{onClick:Z,children:d||"キャンセル"}),(0,l.jsx)(c.Z,{onClick:Z,autoFocus:!0,children:h||"OK"})]})]})]}},7308:function(e,t,n){"use strict";var l=n(4246),r=n(3999);let i=e=>{let{onChange:t,...n}=e,i=e=>{t(e.target.value)};return(0,l.jsx)(r.Z,{fullWidth:!0,onChange:i,...n})};t.Z=i},8309:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var l=n(4246),r=n(1056),i=n(2750),a=n(8666),s=n(3058),u=n(6233),c=n(6677),o=n(7378),d=n(6186),h=n(3999);let x=e=>{let{value:t,onChange:n}=e,[r,i]=(0,o.useState)("");(0,o.useEffect)(()=>{t!==r&&i(null!=t?t:"")},[t]);let a=(0,o.useCallback)(e=>{let t=e.target.value;i(t),n(""===t?null:t)},[i]);return(0,l.jsx)(h.Z,{fullWidth:!0,type:"date",value:r,onChange:a})};var v=n(7308),j=n(2910),Z=n(2307),f=n(7917);let m=e=>{var t,n,h;let{apartment:m,room:p,tenant:b,onSave:w}=e,C=(0,c.useRouter)(),[k,g]=(0,Z.G)({text:"入居者の情報を削除してよろしいですか？"}),_=e=>{e.preventDefault(),w({name:S,since:E,until:R})},y=async()=>{let e=null==b?void 0:b.id;void 0!==e&&await k()&&(await r.L.deleteTenant.mutate({id:e}),C.push("/room/".concat(p.id,"/detail")))},[S,P]=(0,o.useState)(null!==(t=null==b?void 0:b.name)&&void 0!==t?t:""),[E,N]=(0,o.useState)(null!==(n=null==b?void 0:b.since)&&void 0!==n?n:null),[R,G]=(0,o.useState)(null!==(h=null==b?void 0:b.until)&&void 0!==h?h:null);return(0,l.jsxs)(s.Z,{children:[(0,l.jsxs)("form",{onSubmit:_,children:[(0,l.jsx)(u.Z,{my:"32px",children:(0,l.jsxs)(i.Z,{variant:"h6",children:[m.name," / ",p.name]})}),(0,l.jsx)(j.Z,{label:"入居者名",children:(0,l.jsx)(v.Z,{value:S,onChange:P})}),(0,l.jsx)(j.Z,{label:"入居日",children:(0,l.jsx)(x,{value:E,onChange:N})}),(0,l.jsx)(j.Z,{label:"退去日",children:(0,l.jsx)(x,{value:R,onChange:G})}),(0,l.jsx)(d.Z,{children:(0,l.jsx)(a.Z,{variant:"contained",type:"submit",endIcon:(0,l.jsx)(f.Z,{}),children:"保存"})}),(null==b?void 0:b.id)&&(0,l.jsx)(a.Z,{variant:"contained",onClick:y,children:"削除"})]}),g]})};var p=m},9205:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var l=n(4246),r=n(188),i=n(4200),a=n(1056),s=n(6677),u=n(8309);function c(){let e=(0,s.useRouter)(),t=i.ZP.object({id:i.ZP.string()}).parse(e.query),n=a.W.getRoom.useQuery(t),c=async t=>{var l;let r=null===(l=n.data)||void 0===l?void 0:l.id;await a.L.addTenant.mutate({...t,roomId:r}),e.push("/room/detail/".concat(r))};return n.data?(0,l.jsx)(r.Z,{title:"部屋の入居者追加",prev:"/room/detail/".concat(n.data.id),children:(0,l.jsx)(u.Z,{apartment:n.data.apartment,room:n.data,onSave:c})}):void 0}}},function(e){e.O(0,[849,952,301,774,888,179],function(){return e(e.s=1298)}),_N_E=e.O()}]);